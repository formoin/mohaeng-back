<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.plan.model.mapper.PlanMapper">
	
	<select id="getPlans" resultType="PlanAttraction" parameterType="int">
        select p.plan_id, p.date, p.group_id, a.title, a.addr1, a.first_image, t.content_type_name 
        from plan p
        inner join attraction_info a on a.content_id = p.content_id
        inner join type t on a.content_type_id = t.content_type_id
        where group_id=#{groupId}
    </select>

    <delete id="delete" parameterType="int">
        delete from plan
        where plan_id=#{planId}
    </delete>

    <insert id="insert" parameterType="plan">
        insert into plan (date, group_id, content_id)
        values (#{date}, #{groupId}, #{contentId})
    </insert>
    
    <update id="update" parameterType="plan">
    	update plan
    	set date=#{date}, content_id=#{contentId}
    	where plan_id=#{planId}
    </update>
    
    <select id="getSido" resultType="sido">
        select sido_code, sido_name
        from sido
    </select>
    
    <select id="getType" resultType="type">
        select content_type_id, content_type_name
        from type
    </select>
    


</mapper>